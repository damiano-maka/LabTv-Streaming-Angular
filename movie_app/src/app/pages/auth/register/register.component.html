<div class="row ">
  <div>
    <div class="card p-3 ">
      <div class="card-body">
        <form [formGroup]="registrationForm" (ngSubmit)="onRegister()">
          <div class="mb-3">
            <label for="name" class="form-label"> Name </label>
            <input
              type="text"
              class="form-control custom-input"
              id="name"
              placeholder="Your Name"
              formControlName="name" 
              [class.error]="registrationForm.controls.name.touched && registrationForm.controls.name.errors?.['required']"
            />
            <span
              *ngIf="registrationForm.controls.name.touched && registrationForm.controls.name.errors?.['required']"
              class="error-message"
            >
              Name is required
            </span>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label"> Email </label>
            <input
              type="email"
              class="form-control custom-input"
              id="email"
              placeholder="name@example.com"
              formControlName="email"
              [class.error]="registrationForm.controls.email.touched && registrationForm.controls.email.errors?.['required']"
            />
            <span
              *ngIf="registrationForm.controls.email.touched && registrationForm.controls.email.errors?.['required']"
              class="error-message"
            >
              Email is required
            </span>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label"> Password </label>
            <div class="input-group">
              <input
                [type]="isPasswordVisible ? 'text' : 'password'"
                class="form-control custom-input"
                id="password"
                formControlName="password"
                [class.error]="registrationForm.controls.password.touched && registrationForm.controls.password.errors?.['required']"
              />
              <button
                class="btn btn-outline-secondary"
                type="button"
                id="button-addon2"
                (click)="isPasswordVisible = !isPasswordVisible"
              >
                <mat-icon
                  [fontIcon]="isPasswordVisible ? 'visibility' : 'visibility_off'"
                ></mat-icon>
              </button>
            </div>
            <span
              *ngIf="registrationForm.controls.password.touched && registrationForm.controls.password.errors?.['required']"
              class="error-message"
            >
            Password is required
            </span>
          </div>
          <div class="mb-3">
            <label for="repeatPassword" class="form-label"> Repeat Password </label>
            <div class="input-group">
              <input
                [type]="isRepeatPasswordVisible ? 'text' : 'password'"
                class="form-control custom-input"
                id="repeatPassword"
                formControlName="repeatPassword"
                [class.error]="registrationForm.controls.repeatPassword.touched && registrationForm.controls.repeatPassword.errors?.['required']"
              />
              <button
                class="btn btn-outline-secondary"
                type="button"
                (click)="isRepeatPasswordVisible = !isRepeatPasswordVisible"
              >
                <mat-icon
                  [fontIcon]="isRepeatPasswordVisible ? 'visibility' : 'visibility_off'"
                ></mat-icon>
              </button>
            </div>
            <span
              *ngIf="registrationForm.controls.repeatPassword.touched && registrationForm.controls.repeatPassword.errors?.['required']"
              class="error-message"
            >
            Repeat password is required
            </span>
            <span
              *ngIf="registrationForm.controls.repeatPassword.touched && registrationForm.errors?.['repeatPasswordError']"
              class="error-message"
            >
            Passwords don't match.
            </span>
          </div>
          <div class="d-flex justify-content-center">
            <button class="btn btn-success" type="submit" [disabled]="!registrationForm.valid">
              Registrati
            </button>
          </div>
          <div class="d-flex justify-content-center mt-3">
            <p class="text-muted">
              <strong>Already registered?</strong> Click here to <a [routerLink]="['/auth/login']" class="text-dark h6">LOGIN</a>.
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>